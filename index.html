<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Survei Mood</title>

<style>
body{
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:linear-gradient(135deg,#e3f2fd,#bbdefb);
  font-family:Arial,sans-serif;
}
.box{
  background:#fff;
  padding:25px;
  border-radius:14px;
  width:100%;
  max-width:420px;
  box-shadow:0 10px 25px rgba(0,0,0,.2);
}
label{
  display:block;
  margin-top:12px;
  font-weight:bold;
}
input,select,textarea{
  width:100%;
  padding:8px;
  margin-top:6px;
  border-radius:6px;
  border:1px solid #ccc;
}
button{
  width:100%;
  margin-top:16px;
  padding:10px;
  border:none;
  border-radius:8px;
  background:#5c8fd6;
  color:#fff;
  font-size:15px;
  cursor:pointer;
}
button:hover{background:#4a7fc5;}
#hasil{
  display:none;
  margin-top:15px;
  padding:12px;
  background:#f1f7fb;
  border-radius:8px;
  font-weight:bold;
  white-space:pre-line;
}
</style>
</head>

<body>
<div class="box">
  <h2 style="text-align:center;">ğŸ“ Survei Mood</h2>

  <label>Nama</label>
  <input id="nama">

  <label>Mood hari ini</label>
  <select id="mood">
    <option value="5">â­â­â­â­â­</option>
    <option value="4">â­â­â­â­</option>
    <option value="3">â­â­â­</option>
    <option value="2">â­â­</option>
    <option value="1">â­</option>
  </select>

  <label>Capek?</label>
  <select id="capek">
    <option>ğŸ§˜ Santai</option>
    <option>ğŸ˜®â€ğŸ’¨ Lumayan</option>
    <option>ğŸ¥µ Capek banget</option>
  </select>

  <label>Paling butuh</label>
  <select id="butuh">
    <option>â˜• Kopi</option>
    <option>ğŸ›Œ Tidur</option>
    <option>ğŸ§ Musik</option>
    <option>ğŸ–ï¸ Liburan</option>
    <option>ğŸ’° Gajian</option>
  </select>

  <label>Curhat</label>
  <textarea id="curhat" rows="3"></textarea>

  <button onclick="kirim()">Kirim Survei</button>

  <div id="hasil"></div>
</div>

<script>
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxKQm_RIBLRoeb2Atnozp6sV-c4l1qiNw5djjDhUgF2-vILt84Cv03ijoTYcI2p5T2d/exec";

function kirim(){
  const nama = document.getElementById("nama").value.trim();
  if(!nama){
    alert("Nama wajib diisi");
    return;
  }

  const mood = Number(document.getElementById("mood").value);
  const capek = document.getElementById("capek").value;
  const butuh = document.getElementById("butuh").value;
  const curhat = document.getElementById("curhat").value || "-";

  /* ================= KESIMPULAN / SARAN ================= */
  let saran = "";

  if(mood >= 4){
    saran = "âœ¨ Mood kamu lagi bagus!\nPertahankan energi positifnya ya.";
  }else if(mood === 3){
    saran = "ğŸŒ± Mood kamu cukup stabil.\nPelan-pelan tapi tetap semangat.";
  }else{
    saran = "ğŸ’™ Sepertinya kamu lagi capek.\nJangan lupa istirahat dan jaga diri.";
  }

  if(butuh.includes("Kopi")) saran += "\nâ˜• Kopi boleh, air putih jangan lupa.";
  if(butuh.includes("Tidur")) saran += "\nğŸ’¤ Tidur cukup itu self-care.";
  if(butuh.includes("Musik")) saran += "\nğŸ§ Musik bisa bantu nenangin pikiran.";
  if(butuh.includes("Liburan")) saran += "\nğŸ–ï¸ Liburan kecil juga bisa menyegarkan.";
  if(butuh.includes("Gajian")) saran += "\nğŸ’° Semoga rezekimu lancar ğŸ˜„";

  /* ================= KIRIM KE SPREADSHEET ================= */
  let fd = new FormData();
  fd.append("nama", nama);
  fd.append("mood", mood);
  fd.append("capek", capek);
  fd.append("butuh", butuh);
  fd.append("curhat", curhat);

  fetch(SCRIPT_URL,{
    method:"POST",
    body:fd
  })
  .then(res => res.text())
  .then(text => {
    if(text === "OK"){
      const hasil = document.getElementById("hasil");
      hasil.innerText = "âœ… Terima kasih, survei terkirim!\n\n" + saran;
      hasil.style.display = "block";
    }else{
      alert("âŒ Gagal kirim");
    }
  })
  .catch(err => {
    console.error(err);
    alert("âŒ Gagal kirim");
  });
}
</script>
</body>
</html>
